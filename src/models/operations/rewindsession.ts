/*
 * Code generated by Speakeasy (https://speakeasy.com). DO NOT EDIT.
 */

import * as z from "zod/v3";
import { remap as remap$ } from "../../lib/primitives.js";

export type RewindSessionRequestBody = {
  /**
   * Whether to clean up media files created after the rewind point (based on file timestamp)
   */
  cleanupMedia?: boolean | undefined;
  /**
   * ID of the last message to keep. All messages after this message will be deleted.
   */
  messageId: string;
};

export type RewindSessionRequest = {
  /**
   * Session ID to rewind
   */
  id: string;
  requestBody: RewindSessionRequestBody;
};

/** @internal */
export type RewindSessionRequestBody$Outbound = {
  cleanupMedia: boolean;
  messageId: string;
};

/** @internal */
export const RewindSessionRequestBody$outboundSchema: z.ZodType<
  RewindSessionRequestBody$Outbound,
  z.ZodTypeDef,
  RewindSessionRequestBody
> = z.object({
  cleanupMedia: z.boolean().default(true),
  messageId: z.string(),
});

export function rewindSessionRequestBodyToJSON(
  rewindSessionRequestBody: RewindSessionRequestBody,
): string {
  return JSON.stringify(
    RewindSessionRequestBody$outboundSchema.parse(rewindSessionRequestBody),
  );
}

/** @internal */
export type RewindSessionRequest$Outbound = {
  id: string;
  RequestBody: RewindSessionRequestBody$Outbound;
};

/** @internal */
export const RewindSessionRequest$outboundSchema: z.ZodType<
  RewindSessionRequest$Outbound,
  z.ZodTypeDef,
  RewindSessionRequest
> = z.object({
  id: z.string(),
  requestBody: z.lazy(() => RewindSessionRequestBody$outboundSchema),
}).transform((v) => {
  return remap$(v, {
    requestBody: "RequestBody",
  });
});

export function rewindSessionRequestToJSON(
  rewindSessionRequest: RewindSessionRequest,
): string {
  return JSON.stringify(
    RewindSessionRequest$outboundSchema.parse(rewindSessionRequest),
  );
}
